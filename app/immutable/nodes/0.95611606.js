import{r as be,u as J,s as q,e as N,i as M,d as h,o as oe,f as b,l as se,a as A,g as P,h as $,m as ae,c as D,v as V,j as y,w as k,x as j,n as le,y as ue,z as Pe,A as Ee,B as Te,C as X,D as ce,E as fe,F as de,G as pe}from"../chunks/scheduler.a4c4307f.js";import{S as z,i as G,a as T,g as K,t as I,c as Y,f as B,b as me,d as _e,m as ve,e as ge}from"../chunks/index.0db527cf.js";import{e as Ie,j as $e,w as We}from"../chunks/singletons.504cc8e8.js";const Ce=!0,Se="always",st=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ce,trailingSlash:Se},Symbol.toStringTag,{value:"Module"}));class W{constructor(){let e,o;this.promise=new Promise((t,n)=>{e=t,o=n}),this.resolve=e,this.reject=o}then(e,o){this.promise.then(e,o)}}function Re(i){return`${Ie}/${i}`}function Me(i){var e;return((e=i.to)==null?void 0:e.url.toString())??null}function L(i,e,o){return new Promise((t,n)=>{o==null||o.addEventListener("abort",()=>{i.removeEventListener(e,t),n(new Error("AbortError"))}),i.addEventListener(e,t,{once:!0})})}async function Ue(i,e,o){const t=new AbortController,n=setTimeout(()=>t.abort(),o);let r;try{r=await L(i,e,t.signal)}catch{return null}return clearTimeout(n),r}function O(i){return new Promise(e=>{setTimeout(()=>e(null),i)})}const Ae=864e5,De="sw.js",f={navigatingTo:null,resumableStatePromise:new W,waitingResumableState:null,activeWorkerInfo:null,waitingWorkerInfo:null,waitingWorkerInfoPromise:new W,reloading:!1,reloadingPromise:new W,skipReloadCountdownPromise:new W,commandForComponentPromise:new W};function Z(i){var e;return(e=f.registration)!=null&&e.waiting?(we(f.registration.waiting,i),!0):!1}function we(i,e){i.postMessage({type:"conditionalSkipWaiting",resumableState:e,sendFinish:!0})}const Le=$e("before_navigate");function Oe(){var i;return!!((i=navigator.serviceWorker)!=null&&i.controller)}const Q="vw-hasResumableState",Fe=500;async function Ne(i,e){if(i&&typeof i!="string"&&i.willUnload)return!1;if(f.reloading)return f.skipReloadCountdownPromise.resolve(!0),f.skipReloadCountdownPromise=new W,!0;if(f.registration==null||(f.navigatingTo=i?typeof i=="string"?i:Me(i):null,!Z(e?!0:null)))return!1;for(;;){const t=await Promise.race([Ue(navigator.serviceWorker,"message",Fe),f.reloadingPromise]);if(t==null)return!1;if(t===!0)return!0;const{data:n}=t;if(n.type==="vw-reload")return!0;if(n.type==="vw-skipFailed")return!1;n.type==="vw-updateWithResumable"&&(typeof e=="function"&&(e=await e()),sessionStorage.setItem(Q,"1"),Z(e??null))}}function Ve(){F.set(0)}function je(){return sessionStorage.getItem(Q)==="1"}const Be=[null,null,"Minor update ready","Update ready","An important update is ready"],ye=7500,he=1e4,F=We(0),He=""+new URL("../assets/close.3340d4bb.svg",import.meta.url).href;function qe(i){const e=i-1;return e*e*e+1}function x(i,{delay:e=0,duration:o=400,easing:t=be}={}){const n=+getComputedStyle(i).opacity;return{delay:e,duration:o,easing:t,css:r=>`opacity: ${r*n}`}}function ee(i,{delay:e=0,duration:o=400,easing:t=qe,x:n=0,y:r=0,opacity:s=0}={}){const u=getComputedStyle(i),l=+u.opacity,p=u.transform==="none"?"":u.transform,g=l*(1-s),[v,E]=J(n),[c,m]=J(r);return{delay:e,duration:o,easing:t,css:(a,d)=>`
			transform: ${p} translate(${(1-a)*v}${E}, ${(1-a)*c}${m});
			opacity: ${l-g*d}`}}function te(i){let e,o,t,n;const r=[Ge,ze],s=[];function u(l,p){return l[0]===4&&l[1]==null?0:1}return e=u(i),o=s[e]=r[e](i),{c(){o.c(),t=N()},l(l){o.l(l),t=N()},m(l,p){s[e].m(l,p),M(l,t,p),n=!0},p(l,p){let g=e;e=u(l),e===g?s[e].p(l,p):(K(),I(s[g],1,1,()=>{s[g]=null}),Y(),o=s[e],o?o.p(l,p):(o=s[e]=r[e](l),o.c()),T(o,1),o.m(t.parentNode,t))},i(l){n||(T(o),n=!0)},o(l){I(o),n=!1},d(l){l&&h(t),s[e].d(l)}}}function ze(i){let e,o,t,n,r,s,u="Reload",l,p,g,v,E,c=i[1]==null&&ne(i);return{c(){e=b("div"),o=b("p"),t=se(i[2]),n=A(),r=b("div"),s=b("button"),s.textContent=u,l=A(),c&&c.c(),this.h()},l(m){e=P(m,"DIV",{class:!0});var a=$(e);o=P(a,"P",{class:!0});var d=$(o);t=ae(d,i[2]),d.forEach(h),n=D(a),r=P(a,"DIV",{class:!0});var _=$(r);s=P(_,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(s)!=="svelte-1ywm9o3"&&(s.textContent=u),l=D(_),c&&c.l(_),_.forEach(h),a.forEach(h),this.h()},h(){y(o,"class","svelte-8830p0"),y(s,"type","button"),y(s,"class","svelte-8830p0"),y(r,"class","svelte-8830p0"),y(e,"class","side svelte-8830p0")},m(m,a){M(m,e,a),k(e,o),k(o,t),k(e,n),k(e,r),k(r,s),k(r,l),c&&c.m(r,null),g=!0,v||(E=j(s,"click",i[3]),v=!0)},p(m,a){(!g||a&4)&&le(t,m[2]),m[1]==null?c||(c=ne(m),c.c(),c.m(r,null)):c&&(c.d(1),c=null)},i(m){g||(ue(()=>{g&&(p||(p=B(e,ee,{y:75,duration:750},!0)),p.run(1))}),g=!0)},o(m){p||(p=B(e,ee,{y:75,duration:750},!1)),p.run(0),g=!1},d(m){m&&h(e),c&&c.d(),m&&p&&p.end(),v=!1,E()}}}function Ge(i){let e,o,t,n,r,s,u,l,p="Reload",g,v,E="Reload in 60 seconds",c,m,a,d;return{c(){e=b("div"),o=b("div"),t=b("p"),n=se(i[2]),r=A(),s=b("div"),u=b("div"),l=b("button"),l.textContent=p,g=A(),v=b("button"),v.textContent=E,this.h()},l(_){e=P(_,"DIV",{class:!0});var w=$(e);o=P(w,"DIV",{class:!0});var C=$(o);t=P(C,"P",{class:!0});var R=$(t);n=ae(R,i[2]),R.forEach(h),r=D(C),s=P(C,"DIV",{class:!0});var U=$(s);u=P(U,"DIV",{class:!0});var S=$(u);l=P(S,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(l)!=="svelte-1ywm9o3"&&(l.textContent=p),g=D(S),v=P(S,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(v)!=="svelte-6w1b0e"&&(v.textContent=E),S.forEach(h),U.forEach(h),C.forEach(h),w.forEach(h),this.h()},h(){y(t,"class","svelte-8830p0"),y(l,"type","button"),y(l,"class","svelte-8830p0"),y(v,"type","button"),y(v,"class","svelte-8830p0"),y(u,"class","svelte-8830p0"),y(s,"class","svelte-8830p0"),y(o,"class","svelte-8830p0"),y(e,"class","popup svelte-8830p0")},m(_,w){M(_,e,w),k(e,o),k(o,t),k(t,n),k(o,r),k(o,s),k(s,u),k(u,l),k(u,g),k(u,v),m=!0,a||(d=[j(l,"click",i[3]),j(v,"click",i[4])],a=!0)},p(_,w){(!m||w&4)&&le(n,_[2])},i(_){m||(ue(()=>{m&&(c||(c=B(e,x,{duration:500},!0)),c.run(1))}),m=!0)},o(_){c||(c=B(e,x,{duration:500},!1)),c.run(0),m=!1},d(_){_&&h(e),_&&c&&c.end(),a=!1,Pe(d)}}}function ne(i){let e,o=`<img src="${He}" alt="Close popup" width="16" height="16" class="svelte-8830p0"/>`,t,n;return{c(){e=b("button"),e.innerHTML=o,this.h()},l(r){e=P(r,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(e)!=="svelte-10941rj"&&(e.innerHTML=o),this.h()},h(){y(e,"type","button"),y(e,"class","svelte-8830p0")},m(r,s){M(r,e,s),t||(n=j(e,"click",i[6]),t=!0)},d(r){r&&h(e),t=!1,n()}}}function Ke(i){let e,o,t=i[2]!=null&&te(i);return{c(){t&&t.c(),e=N()},l(n){t&&t.l(n),e=N()},m(n,r){t&&t.m(n,r),M(n,e,r),o=!0},p(n,[r]){n[2]!=null?t?(t.p(n,r),r&4&&T(t,1)):(t=te(n),t.c(),T(t,1),t.m(e.parentNode,e)):t&&(K(),I(t,1,1,()=>{t=null}),Y())},i(n){o||(T(t),o=!0)},o(n){I(t),o=!1},d(n){n&&h(e),t&&t.d(n)}}}const H=1e3;function Ye(i,e,o){let t,n=!1;oe(()=>()=>{n=!0});let{priority:r}=e,s=!1,u=null;function l(a,d,_){return a?"Please close all other windows and tabs of this app":_==null?Be[d]:`Reloading in ${_}s`}async function p(){const a=await Ne();if(!n)if(a){if(await O(ye),n)return;E=he/1e3,v=document.timeline.currentTime,c(v)}else o(5,s=!0),setTimeout(p,100)}function g(){v=document.timeline.currentTime,c(v)}let v,E=60;function c(a){if(n)return;const d=a-v;let _=Math.round(d/H);const w=_*H;if(o(1,u=Math.max(E-_,0)),u===0){p();return}const R=v+w+H-performance.now();setTimeout(()=>requestAnimationFrame(c),R)}const m=()=>Ve();return i.$$set=a=>{"priority"in a&&o(0,r=a.priority)},i.$$.update=()=>{i.$$.dirty&35&&o(2,t=l(s,r,u))},[r,u,t,p,g,s,m]}class Qe extends z{constructor(e){super(),G(this,e,Ye,Ke,q,{priority:0})}}const Je=i=>({priority:i&1}),re=i=>({priority:i[0]});function ie(i){let e;const o=i[2].updatePrompt,t=ce(o,i,i[1],re),n=t||Xe(i);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){t?t.p&&(!e||s&3)&&fe(t,o,r,r[1],e?pe(o,r[1],s,Je):de(r[1]),re):n&&n.p&&(!e||s&1)&&n.p(r,e?s:-1)},i(r){e||(T(n,r),e=!0)},o(r){I(n,r),e=!1},d(r){n&&n.d(r)}}}function Xe(i){let e,o;return e=new Qe({props:{priority:i[0]}}),{c(){me(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,n){ve(e,t,n),o=!0},p(t,n){const r={};n&1&&(r.priority=t[0]),e.$set(r)},i(t){o||(T(e.$$.fragment,t),o=!0)},o(t){I(e.$$.fragment,t),o=!1},d(t){ge(e,t)}}}function Ze(i){let e,o,t=i[0]!==0&&ie(i);return{c(){e=b("main"),t&&t.c()},l(n){e=P(n,"MAIN",{});var r=$(e);t&&t.l(r),r.forEach(h)},m(n,r){M(n,e,r),t&&t.m(e,null),o=!0},p(n,[r]){n[0]!==0?t?(t.p(n,r),r&1&&T(t,1)):(t=ie(n),t.c(),T(t,1),t.m(e,null)):t&&(K(),I(t,1,1,()=>{t=null}),Y())},i(n){o||(T(t),o=!0)},o(n){I(t),o=!1},d(n){n&&h(e),t&&t.d()}}}function xe(i,e,o){let t;Ee(i,F,a=>o(0,t=a));let{$$slots:n={},$$scope:r}=e;const s=Te();let u=!1,l;oe(async()=>{var w,C,R;if(!("serviceWorker"in navigator)){s("fail",{reason:"unsupported"});return}l=Date.now(),Oe()&&(s("activate"),u=!0),navigator.serviceWorker.addEventListener("message",g);let a=null;try{a=await navigator.serviceWorker.register(Re(De??"sw.js"))}catch{s("fail",{reason:"error"})}if(a==null)return;f.registration=a;let d=a.installing||a.waiting;for(setInterval(_,Ae),je()&&((w=a.active)==null||w.postMessage({type:"resume"})),(C=a.active)==null||C.postMessage({type:"getInfo"}),(async()=>{for(;;)(await f.commandForComponentPromise).type==="updateCheck"&&_()})();;)await E(a.installing),(R=a.waiting)==null||R.postMessage({type:"getInfo"}),a.waiting&&a.active&&(await f.waitingWorkerInfoPromise,c(a.waiting)),await L(a,"updatefound"),f.waitingWorkerInfo=null;async function _(){let U=!0;try{await a.update()}catch{U=!1}const S=a.installing||a.waiting,ke=d!==S;d=S,s("updatecheck",{succeeded:U,updateAvailable:S!=null,isNew:ke})}}),navigator.serviceWorker&&navigator.serviceWorker.addEventListener("controllerchange",p);function p(){u?v():(s("activate"),u=!0)}async function g(a){const d=a.data,_=a.source.state==="activated";if(d.type==="vw-reload")v();else if(d.type==="vw-resume"){const w=d.data;f.waitingResumableState=w,f.resumableStatePromise.resolve(w),f.resumableStatePromise=new W,sessionStorage.removeItem(Q)}else if(d.type==="vw-info"){const w=d.info;_?f.activeWorkerInfo=w:f.waitingWorkerInfo=w,f.waitingWorkerInfoPromise.resolve(),f.waitingWorkerInfoPromise=new W}else if(d.type==="vw-skipFailed"){const w=f.registration.waiting;w&&(w.postMessage({type:"getInfo"}),await f.waitingWorkerInfoPromise),X(F,t=m(),t),s("updateready")}else d.type==="vw-custom"&&s("message",{isFromDifferentVersion:d.isFromDifferentVersion,data:d.data,event:a})}async function v(){if(f.reloading)return;f.reloading=!0,f.reloadingPromise.resolve(!0),f.reloadingPromise=new W,await O(0);let a=null;for(;;){f.navigatingTo?location.href=f.navigatingTo:location.reload();const d=await Promise.race([O(ye),(async()=>(a??(a=L(window,"pageshow")),await a,a=null,!0))(),f.skipReloadCountdownPromise]);s("reloadfail"),d||await Promise.race([O(he),f.skipReloadCountdownPromise])}}Le(a=>{f.navigatingTo=null});async function E(a){a!=null&&await L(a,"statechange")}function c(a){Date.now()-l<300?we(a,null):(X(F,t=m(),t),s("updateready"))}function m(){const a=f.waitingWorkerInfo;if(a==null||a.majorFormatVersion!==1)return 2;if(a.updatePriority===1){const d=Math.floor((Date.now()-a.timeInstalled)/864e5);if(d>2||d>0&&a.blockedInstallCount>1)return 2}return a.updatePriority}return i.$$set=a=>{"$$scope"in a&&o(1,r=a.$$scope)},[t,r,n]}class et extends z{constructor(e){super(),G(this,e,xe,Ze,q,{})}}function tt(i){let e,o,t;e=new et({});const n=i[1].default,r=ce(n,i,i[0],null);return{c(){me(e.$$.fragment),o=A(),r&&r.c()},l(s){_e(e.$$.fragment,s),o=D(s),r&&r.l(s)},m(s,u){ve(e,s,u),M(s,o,u),r&&r.m(s,u),t=!0},p(s,[u]){r&&r.p&&(!t||u&1)&&fe(r,n,s,s[0],t?pe(n,s[0],u,null):de(s[0]),null)},i(s){t||(T(e.$$.fragment,s),T(r,s),t=!0)},o(s){I(e.$$.fragment,s),I(r,s),t=!1},d(s){s&&h(o),ge(e,s),r&&r.d(s)}}}function nt(i,e,o){let{$$slots:t={},$$scope:n}=e;return i.$$set=r=>{"$$scope"in r&&o(0,n=r.$$scope)},[n,t]}class at extends z{constructor(e){super(),G(this,e,nt,tt,q,{})}}export{at as component,st as universal};
